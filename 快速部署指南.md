# ğŸš€ Laravel è¶…å¸‚ç³»ç»Ÿå¿«é€Ÿéƒ¨ç½²æŒ‡å—

## ğŸ“‹ éƒ¨ç½²å‰å‡†å¤‡

### 1. æœåŠ¡å™¨è¦æ±‚
- Linux æœåŠ¡å™¨ (Ubuntu/CentOS)
- PHP >= 8.1
- MySQL/MariaDB æˆ– SQLite
- Web æœåŠ¡å™¨ (Apache/Nginx)
- SSH è®¿é—®æƒé™

### 2. æœ¬åœ°å‡†å¤‡
ç¡®ä¿ä½ çš„é¡¹ç›®å·²ç»å®Œæˆä»¥ä¸‹æ­¥éª¤ï¼š
```bash
# æ›´æ–°ä¾èµ–
composer update

# æ¸…é™¤ç¼“å­˜
php artisan config:clear
php artisan cache:clear
php artisan view:clear
```

## ğŸ“¤ é¡¹ç›®ä¸Šä¼ æ–¹æ³•

### æ–¹æ³• 1: ä½¿ç”¨ Git (æ¨è)
```bash
# åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ
cd /var/www
git clone https://github.com/your-username/supermarket-laravel.git
cd supermarket-laravel
```

### æ–¹æ³• 2: ä½¿ç”¨ SCP ä¸Šä¼ 
```bash
# åœ¨æœ¬åœ°æ‰§è¡Œï¼Œä¸Šä¼ é¡¹ç›®æ–‡ä»¶
scp -r app bootstrap config database public resources routes storage tests artisan composer.json composer.lock package.json user@your-server:/tmp/supermarket-laravel/

# åœ¨æœåŠ¡å™¨ä¸Šç§»åŠ¨æ–‡ä»¶
sudo mv /tmp/supermarket-laravel /var/www/
sudo chown -R $USER:$USER /var/www/supermarket-laravel
```

### æ–¹æ³• 3: ä½¿ç”¨ SFTP å·¥å…·
1. ä½¿ç”¨ FileZillaã€WinSCP ç­‰å·¥å…·
2. è¿æ¥åˆ°æœåŠ¡å™¨
3. ä¸Šä¼ é¡¹ç›®æ–‡ä»¶å¤¹åˆ° `/var/www/supermarket-laravel`

## âš™ï¸ æœåŠ¡å™¨ç«¯é…ç½®

### æ­¥éª¤ 1: å®‰è£… Composer
```bash
# Ubuntu/Debian
sudo apt update
sudo apt install composer

# CentOS/RHEL
sudo yum install composer

# éªŒè¯å®‰è£…
composer --version
```

### æ­¥éª¤ 2: å®‰è£… PHP å’Œæ‰©å±•
```bash
# Ubuntu/Debian
sudo apt install php8.1 php8.1-cli php8.1-fpm php8.1-mysql php8.1-sqlite3 php8.1-mbstring php8.1-xml php8.1-curl php8.1-zip php8.1-gd

# CentOS/RHEL
sudo yum install php php-cli php-fpm php-mysqlnd php-sqlite3 php-mbstring php-xml php-curl php-zip php-gd
```

### æ­¥éª¤ 3: é…ç½®é¡¹ç›®
```bash
cd /var/www/supermarket-laravel

# å®‰è£…ä¾èµ–
composer install --no-dev --optimize-autoloader

# å¤åˆ¶ç¯å¢ƒé…ç½®
cp .env.example .env

# ç”Ÿæˆåº”ç”¨å¯†é’¥
php artisan key:generate

# è®¾ç½®æ–‡ä»¶æƒé™
sudo chmod -R 755 storage bootstrap/cache
sudo chown -R www-data:www-data storage bootstrap/cache

# åˆ›å»ºå­˜å‚¨é“¾æ¥
php artisan storage:link
```

### æ­¥éª¤ 4: é…ç½®æ•°æ®åº“

#### é€‰é¡¹ A: MySQL
```bash
# åˆ›å»ºæ•°æ®åº“
mysql -u root -p
CREATE DATABASE supermarket_laravel;
CREATE USER 'supermarket_user'@'localhost' IDENTIFIED BY 'your_password';
GRANT ALL PRIVILEGES ON supermarket_laravel.* TO 'supermarket_user'@'localhost';
FLUSH PRIVILEGES;
EXIT;

# ç¼–è¾‘ .env æ–‡ä»¶
nano .env
```

åœ¨ `.env` æ–‡ä»¶ä¸­è®¾ç½®ï¼š
```env
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=supermarket_laravel
DB_USERNAME=supermarket_user
DB_PASSWORD=your_password
```

#### é€‰é¡¹ B: SQLite
```bash
# åˆ›å»º SQLite æ•°æ®åº“
touch database/database.sqlite

# ç¼–è¾‘ .env æ–‡ä»¶
nano .env
```

åœ¨ `.env` æ–‡ä»¶ä¸­è®¾ç½®ï¼š
```env
DB_CONNECTION=sqlite
DB_DATABASE=/var/www/supermarket-laravel/database/database.sqlite
```

### æ­¥éª¤ 5: è¿è¡Œè¿ç§»
```bash
# è¿è¡Œæ•°æ®åº“è¿ç§»
php artisan migrate

# è¿è¡Œæ•°æ®å¡«å…… (å¯é€‰)
php artisan db:seed
```

### æ­¥éª¤ 6: é…ç½® Web æœåŠ¡å™¨

#### Apache é…ç½®
```bash
# å®‰è£… Apache
sudo apt install apache2
sudo a2enmod rewrite

# åˆ›å»ºè™šæ‹Ÿä¸»æœºé…ç½®
sudo nano /etc/apache2/sites-available/supermarket-laravel.conf
```

æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š
```apache
<VirtualHost *:80>
    ServerName localhost
    DocumentRoot /var/www/supermarket-laravel/public

    <Directory /var/www/supermarket-laravel/public>
        AllowOverride All
        Require all granted
    </Directory>

    ErrorLog ${APACHE_LOG_DIR}/supermarket-laravel_error.log
    CustomLog ${APACHE_LOG_DIR}/supermarket-laravel_access.log combined
</VirtualHost>
```

```bash
# å¯ç”¨ç«™ç‚¹
sudo a2ensite supermarket-laravel.conf
sudo a2dissite 000-default.conf
sudo systemctl restart apache2
```

#### Nginx é…ç½®
```bash
# å®‰è£… Nginx
sudo apt install nginx

# åˆ›å»ºé…ç½®æ–‡ä»¶
sudo nano /etc/nginx/sites-available/supermarket-laravel
```

æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š
```nginx
server {
    listen 80;
    server_name localhost;
    root /var/www/supermarket-laravel/public;

    index index.php;

    location / {
        try_files $uri $uri/ /index.php?$query_string;
    }

    location ~ \.php$ {
        fastcgi_pass unix:/var/run/php/php8.1-fpm.sock;
        fastcgi_param SCRIPT_FILENAME $realpath_root$fastcgi_script_name;
        include fastcgi_params;
    }
}
```

```bash
# å¯ç”¨ç«™ç‚¹
sudo ln -s /etc/nginx/sites-available/supermarket-laravel /etc/nginx/sites-enabled/
sudo rm -f /etc/nginx/sites-enabled/default
sudo nginx -t
sudo systemctl restart nginx
```

### æ­¥éª¤ 7: æ¸…é™¤ç¼“å­˜
```bash
php artisan config:clear
php artisan cache:clear
php artisan view:clear
php artisan route:clear
```

## ğŸ§ª æµ‹è¯•éƒ¨ç½²

### æ£€æŸ¥åº”ç”¨çŠ¶æ€
```bash
# æ£€æŸ¥ PHP ç‰ˆæœ¬
php --version

# æ£€æŸ¥ Composer
composer --version

# æ£€æŸ¥ Laravel
php artisan --version

# æµ‹è¯•æ•°æ®åº“è¿æ¥
php artisan tinker
>>> DB::connection()->getPdo();
```

### è®¿é—®ç½‘ç«™
åœ¨æµè§ˆå™¨ä¸­è®¿é—® `http://your-server-ip`

## ğŸ”’ å®‰å…¨é…ç½®

### è®¾ç½®é˜²ç«å¢™
```bash
# Ubuntu/Debian
sudo ufw allow 22
sudo ufw allow 80
sudo ufw allow 443
sudo ufw enable

# CentOS/RHEL
sudo firewall-cmd --permanent --add-service=ssh
sudo firewall-cmd --permanent --add-service=http
sudo firewall-cmd --permanent --add-service=https
sudo firewall-cmd --reload
```

### ç”Ÿäº§ç¯å¢ƒé…ç½®
ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š
```env
APP_ENV=production
APP_DEBUG=false
APP_URL=http://your-domain.com
```

## ğŸ“ å¸¸ç”¨ç»´æŠ¤å‘½ä»¤

### æŸ¥çœ‹æ—¥å¿—
```bash
# Laravel æ—¥å¿—
tail -f /var/www/supermarket-laravel/storage/logs/laravel.log

# Web æœåŠ¡å™¨æ—¥å¿—
tail -f /var/log/apache2/supermarket-laravel_error.log
# æˆ–
tail -f /var/log/nginx/supermarket-laravel_error.log
```

### æ›´æ–°åº”ç”¨
```bash
cd /var/www/supermarket-laravel

# æ›´æ–°ä»£ç 
git pull origin main

# æ›´æ–°ä¾èµ–
composer install --no-dev --optimize-autoloader

# è¿è¡Œè¿ç§»
php artisan migrate

# æ¸…é™¤ç¼“å­˜
php artisan config:clear
php artisan cache:clear
```

### é‡å¯æœåŠ¡
```bash
# Apache
sudo systemctl restart apache2

# Nginx
sudo systemctl restart nginx

# PHP-FPM
sudo systemctl restart php8.1-fpm
```

## ğŸ†˜ å¸¸è§é—®é¢˜è§£å†³

### é—®é¢˜ 1: 500 é”™è¯¯
```bash
# æ£€æŸ¥æ—¥å¿—
tail -f /var/www/supermarket-laravel/storage/logs/laravel.log

# æ£€æŸ¥æƒé™
sudo chown -R www-data:www-data /var/www/supermarket-laravel
sudo chmod -R 755 /var/www/supermarket-laravel
```

### é—®é¢˜ 2: æ•°æ®åº“è¿æ¥é”™è¯¯
```bash
# æµ‹è¯•æ•°æ®åº“è¿æ¥
php artisan tinker
>>> DB::connection()->getPdo();
```

### é—®é¢˜ 3: æ–‡ä»¶æƒé™é—®é¢˜
```bash
# è®¾ç½®æ­£ç¡®çš„æƒé™
sudo chown -R www-data:www-data /var/www/supermarket-laravel
sudo chmod -R 755 /var/www/supermarket-laravel
sudo chmod -R 775 /var/www/supermarket-laravel/storage
sudo chmod -R 775 /var/www/supermarket-laravel/bootstrap/cache
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. æœåŠ¡å™¨é”™è¯¯æ—¥å¿—
2. Laravel åº”ç”¨æ—¥å¿—
3. æ•°æ®åº“è¿æ¥çŠ¶æ€
4. æ–‡ä»¶æƒé™è®¾ç½®
5. Web æœåŠ¡å™¨é…ç½®

---

**éƒ¨ç½²å®Œæˆåï¼Œä½ çš„ Laravel è¶…å¸‚ç³»ç»Ÿå°±å¯ä»¥åœ¨æœåŠ¡å™¨ä¸Šæ­£å¸¸è¿è¡Œäº†ï¼** ğŸ‰

## ğŸ“‹ éƒ¨ç½²æ£€æŸ¥æ¸…å•

- [ ] é¡¹ç›®æ–‡ä»¶å·²ä¸Šä¼ åˆ°æœåŠ¡å™¨
- [ ] Composer å·²å®‰è£…
- [ ] PHP 8.1+ å·²å®‰è£…
- [ ] é¡¹ç›®ä¾èµ–å·²å®‰è£…
- [ ] .env æ–‡ä»¶å·²é…ç½®
- [ ] åº”ç”¨å¯†é’¥å·²ç”Ÿæˆ
- [ ] æ•°æ®åº“å·²åˆ›å»ºå¹¶é…ç½®
- [ ] æ•°æ®åº“è¿ç§»å·²è¿è¡Œ
- [ ] Web æœåŠ¡å™¨å·²é…ç½®
- [ ] æ–‡ä»¶æƒé™å·²è®¾ç½®
- [ ] é˜²ç«å¢™å·²é…ç½®
- [ ] åº”ç”¨å¯ä»¥æ­£å¸¸è®¿é—® 